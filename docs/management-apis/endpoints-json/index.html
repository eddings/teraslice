<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>JSON APIs · Teraslice</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Default endpoint in development is `localhost:5678`."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="JSON APIs · Teraslice"/><meta property="og:type" content="website"/><meta property="og:url" content="https://terascope.github.io/teraslice/"/><meta property="og:description" content="Default endpoint in development is `localhost:5678`."/><meta property="og:image" content="https://terascope.github.io/teraslice/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://terascope.github.io/teraslice/img/docusaurus.png"/><link rel="shortcut icon" href="/teraslice/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="stylesheet" href="/teraslice/css/copy-code-block.css"/><link rel="stylesheet" href="/teraslice/css/custom.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/teraslice/js/copy-code-block.js"></script><script src="/teraslice/js/scrollSpy.js"></script><link rel="stylesheet" href="/teraslice/css/main.css"/><script src="/teraslice/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/teraslice/"><img class="logo" src="/teraslice/img/logo.png" alt="Teraslice"/><h2 class="headerTitleWithLogo">Teraslice</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/teraslice/docs/overview" target="_self">Docs</a></li><li class=""><a href="/teraslice/docs/asset-bundles" target="_self">Assets</a></li><li class=""><a href="/teraslice/docs/packages" target="_self">Packages</a></li><li class=""><a href="https://github.com/terascope/teraslice" target="_self">GitHub</a></li><li class=""><a href="/teraslice/help" target="_self">Help</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Management APIs</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/teraslice/docs/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/terminology">Terminology</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/teraslice/docs/configuration/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/configuration/clustering-native">Native Clustering</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/configuration/clustering-k8s">Kubernetes Clustering</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Management APIs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/teraslice/docs/management-apis/overview">Overview</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/teraslice/docs/management-apis/endpoints-json">JSON APIs</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/management-apis/endpoints-txt">TXT APIs</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Jobs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/types-of-operations">Types of Operations</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/builtin-operations">Built-in Operations</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/slices">Slices</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/data-entities">Data Entities</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/dead-letter-queue">Dead Letter Queue</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/development">Development</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/jobs/testing">Testing</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/packages">Packages</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/scripts">Scripts</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/releases">Releases</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/tests">Tests</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/e2e">End-to-End Tests</a></li><li class="navListItem"><a class="navItem" href="/teraslice/docs/development/contributing">Contributing</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">JSON APIs</h1></header><article><div><span><p>Default endpoint in development is <code>localhost:5678</code>.</p>
<p><strong>Note:</strong> Current API version is <code>v1</code>, but all endpoints can be accessed without the <code>/v1</code> prefix.</p>
<h2><a class="anchor" aria-hidden="true" id="get-v1"></a><a href="#get-v1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1</h2>
<p>Teraslice system information.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1'</span>
{
    <span class="hljs-string">"arch"</span>: <span class="hljs-string">"x64"</span>,
    <span class="hljs-string">"clustering_type"</span>: <span class="hljs-string">"native"</span>,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"example-cluster"</span>,
    <span class="hljs-string">"node_version"</span>: <span class="hljs-string">"v8.12.0"</span>,
    <span class="hljs-string">"platform"</span>: <span class="hljs-string">"linux"</span>,
    <span class="hljs-string">"teraslice_version"</span>: <span class="hljs-string">"v0.43.0"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-cluster-state"></a><a href="#get-v1-cluster-state" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/cluster/state</h2>
<p>Returns a json object representing the state of the cluster.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/cluster/state'</span>
{
    <span class="hljs-string">"myCompName"</span>: {
        <span class="hljs-string">"node_id"</span>: <span class="hljs-string">"myCompName"</span>,
        <span class="hljs-string">"hostname"</span>: <span class="hljs-string">"192.168.1.4"</span>,
        <span class="hljs-string">"pid"</span>: 36733,
        <span class="hljs-string">"node_version"</span>: <span class="hljs-string">"v4.4.5"</span>,
        <span class="hljs-string">"teraslice_version"</span>: <span class="hljs-string">"0.3.0"</span>,
        <span class="hljs-string">"total"</span>: 8,
        <span class="hljs-string">"state"</span>: <span class="hljs-string">"connected"</span>,
        <span class="hljs-string">"available"</span>: 7,
        <span class="hljs-string">"active"</span>: [
            {
                <span class="hljs-string">"worker_id"</span>: 1,
                <span class="hljs-string">"assignment"</span>: <span class="hljs-string">"cluster_master"</span>,
                <span class="hljs-string">"pid"</span>: 36735
            }
        ]
    }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-cluster-controllers"></a><a href="#get-v1-cluster-controllers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/cluster/controllers</h2>
<p>Returns an array of all active execution controllers and their associated statistics.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/cluster/controllers'</span>
[
    {
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"1cb20d4c-520a-44fe-a802-313f41dd5b05"</span>,
        <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"ed431883-9642-4f53-8662-c9f6bf78816a"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Reindex Events"</span>,
        <span class="hljs-string">"workers_available"</span>: 0,
        <span class="hljs-string">"workers_active"</span>: 1,
        <span class="hljs-string">"workers_joined"</span>: 1,
        <span class="hljs-string">"workers_reconnected"</span>: 0,
        <span class="hljs-string">"workers_disconnected"</span>: 0,
        <span class="hljs-string">"failed"</span>: 0,
        <span class="hljs-string">"subslices"</span>: 0,
        <span class="hljs-string">"queued"</span>: 1,
        <span class="hljs-string">"slice_range_expansion"</span>: 0,
        <span class="hljs-string">"processed"</span>: 71,
        <span class="hljs-string">"slicers"</span>: 1,
        <span class="hljs-string">"subslice_by_key"</span>: 0,
        <span class="hljs-string">"started"</span>: <span class="hljs-string">"2018-09-20T08:36:23.901-07:00"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-assets"></a><a href="#get-v1-assets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/assets</h2>
<p>Retreives a list of assets</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>from: number = 0</code></li>
<li><code>size: number = 100</code></li>
<li><code>sort: string = &quot;_created:desc&quot;</code></li>
</ul>
<p>Size is the number of documents returned, from is how many documents in and sort is a lucene query.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/assets'</span>
[
    {
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-11-01T13:13:58.281Z"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"elasticsearch"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.1.0"</span>,
        <span class="hljs-string">"id"</span>: <span class="hljs-string">"21cbf11859584730ecfcf916a64ecd6c5757f115"</span>
    },
    {
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-10-29T20:48:30.354Z"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"kafka"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.2.0"</span>,
        <span class="hljs-string">"id"</span>: <span class="hljs-string">"b370ed016fd411d2184fc8a609ea569a5e194732"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-assets"></a><a href="#post-v1-assets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/assets</h2>
<p>Submit a zip file containing custom readers/processors for jobs to use.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST -H <span class="hljs-string">'Content-Type: application/octet-stream'</span> <span class="hljs-string">'localhost:5678/v1/assets'</span> --data-binary @zipFile.zip
{
    <span class="hljs-string">"_id"</span>: <span class="hljs-string">"ec2d5465609571590fdfe5b371ed7f98a04db5cb"</span>
}
</code></pre>
<p>The <code>_id</code> returned is the id of elasticsearch document where the zip file has been saved</p>
<p>The zip file must contain an asset.json containing a name for the asset bundle and a version number which can be used to query the asset besides using the <code>_id</code>.</p>
<pre><code class="hljs css language-sh">$ ls -la
./asset
    asset_op
        index.js
    another_asset.cvs
    asset.json
</code></pre>
<p>You may zip the enclosing directory or piecemeal the file together</p>
<pre><code class="hljs css language-sh">zip -r zipfile.zip asset
</code></pre>
<pre><code class="hljs css language-sh">zip -r zipfile.zip asset_op another_asset.cvs asset.json
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="delete-v1-assets"></a><a href="#delete-v1-assets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DELETE /v1/assets</h2>
<p>Delete an asset</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XDELETE <span class="hljs-string">'localhost:5678/assets/ec2d5465609571590fdfe5b371ed7f98a04db5cb'</span>
{
    <span class="hljs-string">"_id"</span>: <span class="hljs-string">"ec2d5465609571590fdfe5b371ed7f98a04db5cb"</span>
}
</code></pre>
<p>The <code>_id</code> returned is the id of elasticsearch document that was deleted.</p>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs"></a><a href="#post-v1-jobs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs</h2>
<p>Submit a job to be enqueued.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>start: boolean = false</code></li>
</ul>
<p>Setting start to false will just store the job and not automatically enqueue it, in this case only the job id will be returned.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs'</span> -d@job.json
{
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-jobs"></a><a href="#get-v1-jobs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/jobs</h2>
<p>Returns an array of all jobs listed in <code>${clusterName}__jobs</code> index.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>from: number = 0</code></li>
<li><code>size: number = 100</code></li>
<li><code>sort: string = &quot;_updated:desc&quot;</code></li>
</ul>
<p>Size is the number of documents returned, from is how many documents in and sort is a lucene query.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/jobs'</span>
[
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Example"</span>,
        <span class="hljs-string">"lifecycle"</span>: <span class="hljs-string">"persistent"</span>,
        <span class="hljs-string">"workers"</span>: 1,
        <span class="hljs-string">"operations"</span>: [
            {
                <span class="hljs-string">"_op"</span>: <span class="hljs-string">"noop"</span>
            }
        ]
        <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"013b52c3-a4db-4fc4-8a65-7569b6b61951"</span>,
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-09-21T17:49:05.029Z"</span>,
        <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-11-01T13:15:22.743Z"</span>,
        <span class="hljs-string">"_context"</span>: <span class="hljs-string">"job"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-jobs-jobid"></a><a href="#get-v1-jobs-jobid" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/jobs/{jobId}</h2>
<p>Returns the job that matches given job id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd'</span>
{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Example"</span>,
    <span class="hljs-string">"lifecycle"</span>: <span class="hljs-string">"persistent"</span>,
    <span class="hljs-string">"workers"</span>: 1,
    <span class="hljs-string">"operations"</span>: [
        {
            <span class="hljs-string">"_op"</span>: <span class="hljs-string">"noop"</span>
        }
    ]
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>,
    <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-09-21T17:49:05.029Z"</span>,
    <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-11-01T13:15:22.743Z"</span>,
    <span class="hljs-string">"_context"</span>: <span class="hljs-string">"job"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="put-v1-jobs-jobid"></a><a href="#put-v1-jobs-jobid" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PUT /v1/jobs/{jobId}</h2>
<p>Updates a stored job that has the given job id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPUT <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd'</span> -d@job.json
{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Example"</span>,
    <span class="hljs-string">"lifecycle"</span>: <span class="hljs-string">"persistent"</span>,
    <span class="hljs-string">"workers"</span>: 1,
    <span class="hljs-string">"operations"</span>: [
        {
            <span class="hljs-string">"_op"</span>: <span class="hljs-string">"noop"</span>
        }
    ]
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>,
    <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-09-21T17:49:05.029Z"</span>,
    <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-11-01T13:15:22.743Z"</span>,
    <span class="hljs-string">"_context"</span>: <span class="hljs-string">"job"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-jobs-jobid-ex"></a><a href="#get-v1-jobs-jobid-ex" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/jobs/{jobId}/ex</h2>
<p>Returns the current or latest job execution context that matches given job id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/ex'</span>
{
    <span class="hljs-string">"analytics"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"lifecycle"</span>: <span class="hljs-string">"persistent"</span>,
    <span class="hljs-string">"max_retries"</span>: 3,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Example"</span>,
    <span class="hljs-string">"operations"</span>: [
        {
            <span class="hljs-string">"_op"</span>: <span class="hljs-string">"noop"</span>
        }
    ],
    <span class="hljs-string">"probation_window"</span>: 300000,
    <span class="hljs-string">"slicers"</span>: 1,
    <span class="hljs-string">"workers"</span>: 1,
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>,
    <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>,
    <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-11-01T13:15:50.704Z"</span>,
    <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-11-01T13:16:14.122Z"</span>,
    <span class="hljs-string">"_context"</span>: <span class="hljs-string">"ex"</span>,
    <span class="hljs-string">"_status"</span>: <span class="hljs-string">"completed"</span>,
    <span class="hljs-string">"slicer_hostname"</span>: <span class="hljs-string">"localhost"</span>,
    <span class="hljs-string">"slicer_port"</span>: 46292,
    <span class="hljs-string">"_has_errors"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"_slicer_stats"</span>: {
        <span class="hljs-string">"workers_active"</span>: 0,
        <span class="hljs-string">"workers_joined"</span>: 1,
        <span class="hljs-string">"queued"</span>: 0,
        <span class="hljs-string">"job_duration"</span>: 1,
        <span class="hljs-string">"subslice_by_key"</span>: 0,
        <span class="hljs-string">"started"</span>: <span class="hljs-string">"2018-11-01T06:15:58.912-07:00"</span>,
        <span class="hljs-string">"failed"</span>: 0,
        <span class="hljs-string">"subslices"</span>: 0,
        <span class="hljs-string">"queuing_complete"</span>: <span class="hljs-string">"2018-11-01T06:15:59.503-07:00"</span>,
        <span class="hljs-string">"slice_range_expansion"</span>: 2,
        <span class="hljs-string">"processed"</span>: 1,
        <span class="hljs-string">"workers_available"</span>: 1,
        <span class="hljs-string">"workers_reconnected"</span>: 0,
        <span class="hljs-string">"workers_disconnected"</span>: 0,
        <span class="hljs-string">"slicers"</span>: 1
    }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs-jobid-_start"></a><a href="#post-v1-jobs-jobid-_start" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs/{jobId}/_start</h2>
<p>Issues a start command, this will start a fresh new job associated with the job id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/_start'</span>
{
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs-jobid-_stop"></a><a href="#post-v1-jobs-jobid-_stop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs/{jobId}/_stop</h2>
<p>Issues a stop command which will shutdown the execution controllers and workers, marks the job execution context state as stopped. You can optionally add a timeout query parameter to dynamically change how long it will wait as the time the slicer/fetcher exit will vary.</p>
<p><strong>Note:</strong> the timeout your provide will be added to the <code>network_latency_buffer</code> for the final timeout used.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>timeout: number</code></li>
<li><code>blocking: boolean = true</code></li>
</ul>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/_stop'</span>
{
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"completed"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs-jobid-_pause"></a><a href="#post-v1-jobs-jobid-_pause" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs/{jobId}/_pause</h2>
<p>Issues a pause command, this will prevent the execution controller from invoking slicers and also prevent the allocation of slices to workers, marks the job execution context state as paused.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/_pause'</span>
{
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"paused"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs-jobid-_resume"></a><a href="#post-v1-jobs-jobid-_resume" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs/{jobId}/_resume</h2>
<p>Issues a resume command, this allows the execution controller to continue invoking slicers and allocating work if they were in a paused state, marks the job execution context as running.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/_resume'</span>
{
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"running"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs-jobid-_recover"></a><a href="#post-v1-jobs-jobid-_recover" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs/{jobId}/_recover</h2>
<p>THIS API ENDPOINT IS BEING DEPRECATED: issues a recover command, this can only be run if the job is stopped, the job will attempt to retry failed slices and to resume where it previously left off.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/_recover'</span>
{
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-jobs-jobid-_workers"></a><a href="#post-v1-jobs-jobid-_workers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/jobs/{jobId}/_workers</h2>
<p>You can dynamically change the amount of workers that are allocated for a specific job execution.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>add: number</code></li>
<li><code>remove: number</code></li>
<li><code>total: number</code></li>
</ul>
<p>If you use total, it will dynamically determine if it needs to add or remove to reach the number of workers you set.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/_workers?add=5'</span>
<span class="hljs-string">"5 workers have been add for execution: 863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-jobs-jobid-controller"></a><a href="#get-v1-jobs-jobid-controller" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/jobs/{jobId}/controller</h2>
<p>Same concept as cluster/controllers, but only get stats on execution controller associated with the given job_id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/jobs/a8e2be53-fe17-4727-9336-c9f09db9485f/controller'</span>
[
    {
        <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"a8e2be53-fe17-4727-9336-c9f09db9485f"</span>,
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"1cb20d4c-520a-44fe-a802-313f41dd5b05"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Reindex Events"</span>,
        <span class="hljs-string">"available_workers"</span>: 0,
        <span class="hljs-string">"active_workers"</span>: 4,
        <span class="hljs-string">"workers_joined"</span>: 4,
        <span class="hljs-string">"reconnected_workers"</span>: 0,
        <span class="hljs-string">"workers_disconnected"</span>: 0,
        <span class="hljs-string">"failed"</span>: 0,
        <span class="hljs-string">"subslices"</span>: 24,
        <span class="hljs-string">"queued"</span>: 46,
        <span class="hljs-string">"slice_range_expansion"</span>: 0,
        <span class="hljs-string">"processed"</span>: 0,
        <span class="hljs-string">"slicers"</span>: 2,
        <span class="hljs-string">"subslice_by_key"</span>: 0,
        <span class="hljs-string">"started"</span>: <span class="hljs-string">"2016-07-29T13:24:12.558-07:00"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-jobs-jobid-errors"></a><a href="#get-v1-jobs-jobid-errors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/jobs/{jobId}/errors</h2>
<p>This endpoint will return an array of all errors from all executions from oldest to newest.</p>
<p><strong>Note:</strong> Elasticsearch has a window size limit of 10000, please use from to get more if needed</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>from: number = 0</code></li>
<li><code>size: number = 100</code></li>
<li><code>sort: string = &quot;_updated:desc&quot;</code></li>
</ul>
<p>Size is the number of documents returned, from is how many documents in and sort is a lucene query.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/jobs/5a50580c-4a50-48d9-80f8-ac70a00f3dbd/errors'</span>
[
    {
        <span class="hljs-string">"slice_id"</span>: <span class="hljs-string">"f82c0bbd-7ee3-4677-b48e-ca132fad3d73"</span>,
        <span class="hljs-string">"slicer_id"</span>: 0,
        <span class="hljs-string">"slicer_order"</span>: 23,
        <span class="hljs-string">"request"</span>: <span class="hljs-string">"{\"foo\":\"bar\"}"</span>,
        <span class="hljs-string">"state"</span>: <span class="hljs-string">"error"</span>,
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>,
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-10-24T20:56:41.712Z"</span>,
        <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-10-24T20:58:40.015Z"</span>,
        <span class="hljs-string">"error"</span>: <span class="hljs-string">"Error: Uh-oh"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-ex"></a><a href="#get-v1-ex" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/ex</h2>
<p>Returns all execution contexts (job invocations).</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>from: number = 0</code></li>
<li><code>size: number = 100</code></li>
<li><code>sort: string = &quot;_updated:desc&quot;</code></li>
<li><code>status: string = &quot;*&quot;</code></li>
</ul>
<p>Size is the number of documents returned, from is how many documents in and sort is a lucene query.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/ex?status=running&amp;size=10'</span>
[
    {
        <span class="hljs-string">"analytics"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"lifecycle"</span>: <span class="hljs-string">"persistent"</span>,
        <span class="hljs-string">"max_retries"</span>: 3,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Example"</span>,
        <span class="hljs-string">"operations"</span>: [
            {
                <span class="hljs-string">"_op"</span>: <span class="hljs-string">"noop"</span>
            }
        ],
        <span class="hljs-string">"probation_window"</span>: 300000,
        <span class="hljs-string">"slicers"</span>: 1,
        <span class="hljs-string">"workers"</span>: 1,
        <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>,
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>,
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-11-01T13:15:50.704Z"</span>,
        <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-11-01T13:16:14.122Z"</span>,
        <span class="hljs-string">"_context"</span>: <span class="hljs-string">"ex"</span>,
        <span class="hljs-string">"_status"</span>: <span class="hljs-string">"completed"</span>,
        <span class="hljs-string">"slicer_hostname"</span>: <span class="hljs-string">"localhost"</span>,
        <span class="hljs-string">"slicer_port"</span>: 46292,
        <span class="hljs-string">"_has_errors"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">"_slicer_stats"</span>: {
            <span class="hljs-string">"workers_active"</span>: 0,
            <span class="hljs-string">"workers_joined"</span>: 1,
            <span class="hljs-string">"queued"</span>: 0,
            <span class="hljs-string">"job_duration"</span>: 1,
            <span class="hljs-string">"subslice_by_key"</span>: 0,
            <span class="hljs-string">"started"</span>: <span class="hljs-string">"2018-11-01T06:15:58.912-07:00"</span>,
            <span class="hljs-string">"failed"</span>: 0,
            <span class="hljs-string">"subslices"</span>: 0,
            <span class="hljs-string">"queuing_complete"</span>: <span class="hljs-string">"2018-11-01T06:15:59.503-07:00"</span>,
            <span class="hljs-string">"slice_range_expansion"</span>: 2,
            <span class="hljs-string">"processed"</span>: 1,
            <span class="hljs-string">"workers_available"</span>: 1,
            <span class="hljs-string">"workers_reconnected"</span>: 0,
            <span class="hljs-string">"workers_disconnected"</span>: 0,
            <span class="hljs-string">"slicers"</span>: 1
        }
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-ex-exid"></a><a href="#get-v1-ex-exid" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/ex/{exId}</h2>
<p>Returns the job execution context that matches given execution context id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/ex/77c94621-48cf-459f-9d95-dfbccf010f5c'</span>
{
    <span class="hljs-string">"analytics"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"lifecycle"</span>: <span class="hljs-string">"persistent"</span>,
    <span class="hljs-string">"max_retries"</span>: 3,
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Example"</span>,
    <span class="hljs-string">"operations"</span>: [
        {
            <span class="hljs-string">"_op"</span>: <span class="hljs-string">"noop"</span>
        }
    ],
    <span class="hljs-string">"probation_window"</span>: 300000,
    <span class="hljs-string">"slicers"</span>: 1,
    <span class="hljs-string">"workers"</span>: 1,
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"5a50580c-4a50-48d9-80f8-ac70a00f3dbd"</span>,
    <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>,
    <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-11-01T13:15:50.704Z"</span>,
    <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-11-01T13:16:14.122Z"</span>,
    <span class="hljs-string">"_context"</span>: <span class="hljs-string">"ex"</span>,
    <span class="hljs-string">"_status"</span>: <span class="hljs-string">"completed"</span>,
    <span class="hljs-string">"slicer_hostname"</span>: <span class="hljs-string">"localhost"</span>,
    <span class="hljs-string">"slicer_port"</span>: 46292,
    <span class="hljs-string">"_has_errors"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"_slicer_stats"</span>: {
        <span class="hljs-string">"workers_active"</span>: 0,
        <span class="hljs-string">"workers_joined"</span>: 1,
        <span class="hljs-string">"queued"</span>: 0,
        <span class="hljs-string">"job_duration"</span>: 1,
        <span class="hljs-string">"subslice_by_key"</span>: 0,
        <span class="hljs-string">"started"</span>: <span class="hljs-string">"2018-11-01T06:15:58.912-07:00"</span>,
        <span class="hljs-string">"failed"</span>: 0,
        <span class="hljs-string">"subslices"</span>: 0,
        <span class="hljs-string">"queuing_complete"</span>: <span class="hljs-string">"2018-11-01T06:15:59.503-07:00"</span>,
        <span class="hljs-string">"slice_range_expansion"</span>: 2,
        <span class="hljs-string">"processed"</span>: 1,
        <span class="hljs-string">"workers_available"</span>: 1,
        <span class="hljs-string">"workers_reconnected"</span>: 0,
        <span class="hljs-string">"workers_disconnected"</span>: 0,
        <span class="hljs-string">"slicers"</span>: 1
    }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-ex-errors"></a><a href="#get-v1-ex-errors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/ex/errors</h2>
<p>Returns all execution errors.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>from: number = 0</code></li>
<li><code>size: number = 100</code></li>
<li><code>sort: string = &quot;_updated:desc&quot;</code></li>
</ul>
<p>Size is the number of documents returned, from is how many documents in and sort is a lucene query.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/ex/errors'</span>
[
    {
        <span class="hljs-string">"slice_id"</span>: <span class="hljs-string">"f82c0bbd-7ee3-4677-b48e-ca132fad3d73"</span>,
        <span class="hljs-string">"slicer_id"</span>: 0,
        <span class="hljs-string">"slicer_order"</span>: 23,
        <span class="hljs-string">"request"</span>: <span class="hljs-string">"{\"foo\":\"bar\"}"</span>,
        <span class="hljs-string">"state"</span>: <span class="hljs-string">"error"</span>,
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>,
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-10-24T20:56:41.712Z"</span>,
        <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-10-24T20:58:40.015Z"</span>,
        <span class="hljs-string">"error"</span>: <span class="hljs-string">"Error: Uh-oh"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-v1-ex-jobid-errors-exid"></a><a href="#get-v1-ex-jobid-errors-exid" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /v1/ex/{jobId}/errors/{exId}</h2>
<p>This endpoint will return an array of all errors from the specified execution from oldest to newest.</p>
<p><strong>Note:</strong> Elasticsearch has a window size limit of 10000, please use from to get more if needed</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>from: number = 0</code></li>
<li><code>size: number = 100</code></li>
<li><code>sort: string = &quot;_updated:desc&quot;</code></li>
</ul>
<p>Size is the number of documents returned, from is how many documents in and sort is a lucene query.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/ex/863678b3-daf3-4ea9-8cb0-88b846cd7e57/errors'</span>
[
    {
        <span class="hljs-string">"slice_id"</span>: <span class="hljs-string">"f82c0bbd-7ee3-4677-b48e-ca132fad3d73"</span>,
        <span class="hljs-string">"slicer_id"</span>: 0,
        <span class="hljs-string">"slicer_order"</span>: 23,
        <span class="hljs-string">"request"</span>: <span class="hljs-string">"{\"foo\":\"bar\"}"</span>,
        <span class="hljs-string">"state"</span>: <span class="hljs-string">"error"</span>,
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>,
        <span class="hljs-string">"_created"</span>: <span class="hljs-string">"2018-10-24T20:56:41.712Z"</span>,
        <span class="hljs-string">"_updated"</span>: <span class="hljs-string">"2018-10-24T20:58:40.015Z"</span>,
        <span class="hljs-string">"error"</span>: <span class="hljs-string">"Error: Uh-oh"</span>
    }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-v1-ex-exid-_stop"></a><a href="#post-v1-ex-exid-_stop" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /v1/ex/{exId}/_stop</h2>
<p>Issues a stop command which will shutdown execution controller and workers for that job, marks the job execution context state as stopped. You can optionally add a timeout query parameter to dynamically change how long it will wait as the time the slicer/fetchers will exit will vary.</p>
<p><strong>Note:</strong> The timeout your provide will be added to the <code>network_latency_buffer</code> for the final timeout used.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>timeout: number</code></li>
<li><code>blocking: boolean = true</code></li>
</ul>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/ex/863678b3-daf3-4ea9-8cb0-88b846cd7e57/_stop'</span>
{
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"stopped"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-ex-exid-_pause"></a><a href="#post-ex-exid-_pause" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /ex/{exId}/_pause</h2>
<p>Issues a pause command, this will prevent the execution controller from invoking slicers and also prevent the allocation of slices to workers, marks the job execution context state as paused.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/ex/863678b3-daf3-4ea9-8cb0-88b846cd7e57/_pause'</span>
{
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"paused"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-ex-exid-_resume"></a><a href="#post-ex-exid-_resume" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /ex/{exId}/_resume</h2>
<p>Issues a resume command, this allows the execution controller to continue invoking slicers and allocating work if they were in a paused state, marks the job execution context as running.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/ex/863678b3-daf3-4ea9-8cb0-88b846cd7e57/_resume'</span>
{
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"running"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-ex-exid-_recover"></a><a href="#post-ex-exid-_recover" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /ex/{exId}/_recover</h2>
<p>Issues a recover command, this can only be run if the execution is stopped, the job will attempt to retry failed slices and to resume where it previously left off. If cleanup parameter is specified it will NOT resume where it left off and exit after recovery completes. If the cleanup parameter is set to <code>all</code>, then it will attempt to reprocess all slices left in error or started status, if it is set to  <code>errors</code> then it will only reprocess state records that are marked as error.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>cleanup: enum [ 'all', 'errors' ]</code>;</li>
</ul>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/ex/863678b3-daf3-4ea9-8cb0-88b846cd7e57/_recover?cleanup=errors'</span>
{
    <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="post-ex-exid-_workers"></a><a href="#post-ex-exid-_workers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>POST /ex/{exId}/_workers</h2>
<p>You can dynamically change the amount of workers that are allocated for a specific job execution.</p>
<p><strong>Query Options:</strong></p>
<ul>
<li><code>add: number</code></li>
<li><code>remove: number</code></li>
<li><code>total: number</code></li>
</ul>
<p>If you use total, it will dynamically determine if it needs to add or remove to reach the number of workers you set.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl -XPOST <span class="hljs-string">'localhost:5678/v1/ex/863678b3-daf3-4ea9-8cb0-88b846cd7e57/_workers?add=5'</span>
<span class="hljs-string">"5 workers have been add for execution: 863678b3-daf3-4ea9-8cb0-88b846cd7e57"</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="get-ex-exid-controller"></a><a href="#get-ex-exid-controller" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GET /ex/{exId}/controller</h2>
<p>Same concept as cluster/controllers, but only get stats on execution controller associated with the given execution context id.</p>
<p><strong>Usage:</strong></p>
<pre><code class="hljs css language-sh">$ curl <span class="hljs-string">'localhost:5678/v1/ex/1cb20d4c-520a-44fe-a802-313f41dd5b05/controller'</span>
[
    {
        <span class="hljs-string">"ex_id"</span>: <span class="hljs-string">"1cb20d4c-520a-44fe-a802-313f41dd5b05"</span>,
        <span class="hljs-string">"job_id"</span>: <span class="hljs-string">"ed431883-9642-4f53-8662-c9f6bf78816a"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Reindex Events"</span>,
        <span class="hljs-string">"workers_available"</span>: 0,
        <span class="hljs-string">"workers_active"</span>: 1,
        <span class="hljs-string">"workers_joined"</span>: 1,
        <span class="hljs-string">"workers_reconnected"</span>: 0,
        <span class="hljs-string">"workers_disconnected"</span>: 0,
        <span class="hljs-string">"failed"</span>: 0,
        <span class="hljs-string">"subslices"</span>: 0,
        <span class="hljs-string">"queued"</span>: 1,
        <span class="hljs-string">"slice_range_expansion"</span>: 0,
        <span class="hljs-string">"processed"</span>: 71,
        <span class="hljs-string">"slicers"</span>: 1,
        <span class="hljs-string">"subslice_by_key"</span>: 0,
        <span class="hljs-string">"started"</span>: <span class="hljs-string">"2018-09-20T08:36:23.901-07:00"</span>
    }
]
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 9/20/2019</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/teraslice/docs/management-apis/overview"><span class="arrow-prev">← </span><span>Overview</span></a><a class="docs-next button" href="/teraslice/docs/management-apis/endpoints-txt"><span>TXT APIs</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#get-v1">GET /v1</a></li><li><a href="#get-v1-cluster-state">GET /v1/cluster/state</a></li><li><a href="#get-v1-cluster-controllers">GET /v1/cluster/controllers</a></li><li><a href="#get-v1-assets">GET /v1/assets</a></li><li><a href="#post-v1-assets">POST /v1/assets</a></li><li><a href="#delete-v1-assets">DELETE /v1/assets</a></li><li><a href="#post-v1-jobs">POST /v1/jobs</a></li><li><a href="#get-v1-jobs">GET /v1/jobs</a></li><li><a href="#get-v1-jobs-jobid">GET /v1/jobs/{jobId}</a></li><li><a href="#put-v1-jobs-jobid">PUT /v1/jobs/{jobId}</a></li><li><a href="#get-v1-jobs-jobid-ex">GET /v1/jobs/{jobId}/ex</a></li><li><a href="#post-v1-jobs-jobid-_start">POST /v1/jobs/{jobId}/_start</a></li><li><a href="#post-v1-jobs-jobid-_stop">POST /v1/jobs/{jobId}/_stop</a></li><li><a href="#post-v1-jobs-jobid-_pause">POST /v1/jobs/{jobId}/_pause</a></li><li><a href="#post-v1-jobs-jobid-_resume">POST /v1/jobs/{jobId}/_resume</a></li><li><a href="#post-v1-jobs-jobid-_recover">POST /v1/jobs/{jobId}/_recover</a></li><li><a href="#post-v1-jobs-jobid-_workers">POST /v1/jobs/{jobId}/_workers</a></li><li><a href="#get-v1-jobs-jobid-controller">GET /v1/jobs/{jobId}/controller</a></li><li><a href="#get-v1-jobs-jobid-errors">GET /v1/jobs/{jobId}/errors</a></li><li><a href="#get-v1-ex">GET /v1/ex</a></li><li><a href="#get-v1-ex-exid">GET /v1/ex/{exId}</a></li><li><a href="#get-v1-ex-errors">GET /v1/ex/errors</a></li><li><a href="#get-v1-ex-jobid-errors-exid">GET /v1/ex/{jobId}/errors/{exId}</a></li><li><a href="#post-v1-ex-exid-_stop">POST /v1/ex/{exId}/_stop</a></li><li><a href="#post-ex-exid-_pause">POST /ex/{exId}/_pause</a></li><li><a href="#post-ex-exid-_resume">POST /ex/{exId}/_resume</a></li><li><a href="#post-ex-exid-_recover">POST /ex/{exId}/_recover</a></li><li><a href="#post-ex-exid-_workers">POST /ex/{exId}/_workers</a></li><li><a href="#get-ex-exid-controller">GET /ex/{exId}/controller</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/teraslice/" class="nav-home"></a><div><h5>Docs</h5><a href="/teraslice/docs/en/getting-started.html">Getting Started</a><a href="/teraslice/docs/en/packages.html">Packages</a><a href="/teraslice/docs/en/asset-bundles.html">Asset Bundles</a></div><div><h5>More</h5><a href="/teraslice/blog">Blog</a><a href="https://github.com/terascope/teraslice">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/terascope/teraslice/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Terascope, LLC</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'b074b9b57bfd2e4d8b411aee052825d2',
                indexName: 'terascope_teraslice',
                inputSelector: '#search_input_react'
              });
            </script></body></html>